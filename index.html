<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/> 
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="themes.css">
        <script src="themes.js"></script>
        <title>minesweeper v1.4</title>
        <script src="https://kit.fontawesome.com/760c95d571.js" crossorigin="anonymous"></script>
    </head>
    <body oncontextmenu="return false;" class="default-dark-theme">
        <div style="display: flex; position: absolute; left: 0; right: 0; top: 0; bottom: 0; flex-direction: column;">
            <div id="top">
                <h1 style="margin: 8px 0 8px 8px; display: inline; font-size: 33px;">minesweeper</h1>
                <p style="display: inline;">v1.4</p>

                <a href="https://github.com/NicholaChen/minesweeper" style="color: inherit; float: right; margin: 8px;">
                    <h1 style="display: inline; font-size: 25px;">
                        <i class="fa-brands fa-github"></i>
                    </h1>
                </a>
                

                <div style="margin: 0 8px 8px 8px; text-align: center;">
                    <h2 style="margin: 0; display: inline;" title="Time">
                        <i class="fa-solid fa-clock"></i>
                        <span id="timer"></span>
                    </h2>
                    <h2 style="margin: 0; display: inline;" title="Flags">
                        <i class="fa-solid fa-flag"></i>
                        <span id="flags"></span>
                    </h2>
                    <button class="none" id="pauseButton" title=”Pause/Unpause>
                        <h2 style="margin: 0; display: inline; cursor: pointer; font-size: 22px;"><i class="fa-solid fa-circle-pause" id="pause"></i></h2>
                    </button>
                    
                    <button class="none" id="restartButton">
                        <h2 style="margin: 0; display: inline; cursor: pointer; font-size: 22px;"><i class="fa-solid fa-rotate-right"></i></h2>
                    </button>
                    
                    <button class="none" id="settingsButton" title="Settings">
                        <h2 style="margin: 0; display: inline; cursor: pointer; font-size: 22px;"><i class="fa-solid fa-gear"></i></h2>
                    </button>
                </div>
            </div>

            <div style="flex-grow: 1; position: relative; margin: 16px;" id="game">
                <canvas id="canvas" style="position:absolute; left:0; top:0; width:100%; height:100%;">
                </canvas>
                <div style="position:absolute; left:-16px; top:-16px; right: -16px; bottom: -16px; display: flex; justify-content: center; align-items: center; pointer-events: none; background-color: rgba(0,0,0,0.2); display: none;" id="gameEnd">
                    <div style="background-color: var(--background-color); padding: 16px; pointer-events: all; text-align:center; min-width: 15%;">
                        <h1 style="text-align: center; margin: 0; font-size: 38px;" id="gameEndText">Game Over!</h1>
                        <p id="time" style="font-size: 18px; margin: 4px;">Time: </p>
                        <p id="bestTime" style="font-size: 18px; margin: 4px;">Best: </p>
                        <button id="playAgainButton">Play again</button>
                    </div>
                </div>
                <div style="position:absolute; left:0; top:0; width:100%; height:100%; display: flex; justify-content: center; align-items: center; pointer-events: none; display: none;" id="pausedScreen">
                    <h1 style="text-align: center; margin: 0; vertical-align: middle;">Paused</h1>
                </div>
                <div style="position:absolute; left:0; top:0; width:100%; height:100%; display: flex; justify-content: center; align-items: center; pointer-events: none;" id="clickAnywhere">
                    <h1 style="text-align: center; margin: 0; vertical-align: middle;">Click anywhere to begin</h1>
                </div>
            </div>

            <div style="flex-grow: 1; padding: 16px 10% 16px 10%; display: none; overflow: auto;" id="settings">
                <h1 style="text-align: center; margin: 16px;">Settings</h1>
                <div>
                    <h2 style="display: inline;">Gameplay</h2>
                    <button class="none" style="float: right;" title="Reset" id="resetGameplaySettings"><i class="fa-solid fa-rotate-left"></i></button>
                </div>
                <div class="settingsDiv">
                    <h3>Map size (width x height)</h2>
                    <div>
                        <input type="text" id="width"/>
                        <span style="float: right; margin: 0 4px 0 4px;">x</span>
                        <input type="text" id="height"/>
                        <button class="saveSettings" id="saveMapSize">
                            <i class="fa-solid fa-floppy-disk"></i>
                        </button>
                    </div>
                    
                </div>
                <div class="settingsDiv">
                    <h3>Number of mines</h2>
                    <div>
                        <input type="text" id="numMines"/>
                        <button class="saveSettings" id="saveNumMines">
                            <i class="fa-solid fa-floppy-disk"></i>
                        </button>
                    </div>
                </div>
                <p style="text-align: center; display: none;" id="invalidGameplay"></p>
                <div>
                    <h2 style="display: inline;">Controls</h2>
                    <button class="none" style="float: right;" title="Reset" id="resetControlsSettings"><i class="fa-solid fa-rotate-left"></i></button>
                </div>
                <div class="settingsDiv">
                    <h3>Mobile hold duration to flag (ms)</h3>
                    <div>
                        <input type="text" id="flagHold"/>
                        <button class="saveSettings" id="saveFlagHold">
                            <i class="fa-solid fa-floppy-disk"></i>
                        </button>
                    </div>
                </div>
                <p style="text-align: center; display: none;" id="invalidControls"></p>
                <div>
                    <h2 style="display: inline;">Appearance</h2>
                    <button class="none" style="float: right;" title="Reset" id="resetAppearanceSettings"><i class="fa-solid fa-rotate-left"></i></button>
                </div>
                <div class="settingsDiv" style="margin: 8px 0 -8px 0;">
                    <h3>Theme</h3>
                    <div>
                        <button style="margin: 0 4px 0 0;">Preset</button>
                        <button class="unselected">Custom</button>
                    </div>
                </div>
                <div style="margin: 8px 0px 8px 0px;" id="themes-list">
                </div>
                <h2>Advanced</h2>
                <div class="settingsDiv">
                    <h3>Reset all settings (cannot be undone)</h3>
                    <div>
                        <button style="width: 100%;" id="resetSettingsButton">Reset</button>
                    </div>
                </div>
                <h2>More settings coming soon</h2>
                <div>
                    <p style="display: inline; margin: 0;">
                        v1.4.2
                    </p>
                    <p style="display: inline; float: right; margin: 0;">
                        By Nichola Chen
                    </p>
                </div>
                <br>
            </div>
        </div>
        
        <script src="index.js"></script>
    </body>
</html